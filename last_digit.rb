def last_digit(n1, n2)
  last_digit_pattern = {
    0 => [0], 1 => [1], 2 => [2,4,8,6], 3 => [3,9,7,1], 4 => [4,6], 
    5 => [5], 6 => [6], 7 => [7,9,3,1], 8 => [8,4,2,6], 9 => [9,1]
    }

  pattern_size = {
    0 => 1, 1 => 1, 2 => 4, 3 => 4, 4 => 2, 5 => 1, 6 => 1, 7 => 4, 8 => 4, 9 => 2
    }

    return 1 if n2 == 0 
    last_digit_pattern[n1.digits.first][(n2)%pattern_size[n1.digits.first]-1]
end

p last_digit(4, 1)
# 4
p last_digit(4, 2)
# 6
p last_digit(9, 7)
# 9
p last_digit(10, 1000000000)
# 0
p last_digit(38710248912497124917933333333284108412048102948908149081409204712406, 226628148126342643123641923461846128214626)
# 6
p last_digit(3715290469715693021198967285016729344580685479654510946723, 68819615221552997273737174557165657483427362207517952651)
# 7